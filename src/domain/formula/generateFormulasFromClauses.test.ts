import { expect, it } from "vitest";
import { Feature } from "../feature/Feature";
import { generateClausesFromFeatures } from "../clause/generateClausesFromFeatures";
import { generateFormulasFromClauses } from "./generateFormulasFromClauses";
import { Formula } from "./Formula";

it("Generates formulas correctly from clauses", () => {
  const positiveFeatures: Array<Feature> = ["A", "B"];

  const clauses = generateClausesFromFeatures(positiveFeatures);

  const actualFormulas = generateFormulasFromClauses(clauses);

  const expectedFormulas: Array<Formula> = [
    [["A"]],
    [["!A"]],
    [["A"], ["!A"]],
    [["B"]],
    [["A"], ["B"]],
    [["!A"], ["B"]],
    [["A"], ["!A"], ["B"]],
    [["A", "B"]],
    [["A"], ["A", "B"]],
    [["!A"], ["A", "B"]],
    [["A"], ["!A"], ["A", "B"]],
    [["B"], ["A", "B"]],
    [["A"], ["B"], ["A", "B"]],
    [["!A"], ["B"], ["A", "B"]],
    [["A"], ["!A"], ["B"], ["A", "B"]],
    [["!A", "B"]],
    [["A"], ["!A", "B"]],
    [["!A"], ["!A", "B"]],
    [["A"], ["!A"], ["!A", "B"]],
    [["B"], ["!A", "B"]],
    [["A"], ["B"], ["!A", "B"]],
    [["!A"], ["B"], ["!A", "B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"]],
    [
      ["A", "B"],
      ["!A", "B"],
    ],
    [["A"], ["A", "B"], ["!A", "B"]],
    [["!A"], ["A", "B"], ["!A", "B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"]],
    [["B"], ["A", "B"], ["!A", "B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"]],
    [["!B"]],
    [["A"], ["!B"]],
    [["!A"], ["!B"]],
    [["A"], ["!A"], ["!B"]],
    [["B"], ["!B"]],
    [["A"], ["B"], ["!B"]],
    [["!A"], ["B"], ["!B"]],
    [["A"], ["!A"], ["B"], ["!B"]],
    [["A", "B"], ["!B"]],
    [["A"], ["A", "B"], ["!B"]],
    [["!A"], ["A", "B"], ["!B"]],
    [["A"], ["!A"], ["A", "B"], ["!B"]],
    [["B"], ["A", "B"], ["!B"]],
    [["A"], ["B"], ["A", "B"], ["!B"]],
    [["!A"], ["B"], ["A", "B"], ["!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!B"]],
    [["!A", "B"], ["!B"]],
    [["A"], ["!A", "B"], ["!B"]],
    [["!A"], ["!A", "B"], ["!B"]],
    [["A"], ["!A"], ["!A", "B"], ["!B"]],
    [["B"], ["!A", "B"], ["!B"]],
    [["A"], ["B"], ["!A", "B"], ["!B"]],
    [["!A"], ["B"], ["!A", "B"], ["!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["!B"]],
    [["A", "B"], ["!A", "B"], ["!B"]],
    [["A"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"]],
    [["A", "!B"]],
    [["A"], ["A", "!B"]],
    [["!A"], ["A", "!B"]],
    [["A"], ["!A"], ["A", "!B"]],
    [["B"], ["A", "!B"]],
    [["A"], ["B"], ["A", "!B"]],
    [["!A"], ["B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "!B"]],
    [
      ["A", "B"],
      ["A", "!B"],
    ],
    [["A"], ["A", "B"], ["A", "!B"]],
    [["!A"], ["A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["A", "!B"]],
    [["B"], ["A", "B"], ["A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["A", "!B"]],
    [
      ["!A", "B"],
      ["A", "!B"],
    ],
    [["A"], ["!A", "B"], ["A", "!B"]],
    [["!A"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["A", "!B"]],
    [["B"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["A", "!B"]],
    [
      ["A", "B"],
      ["!A", "B"],
      ["A", "!B"],
    ],
    [["A"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"]],
    [["!B"], ["A", "!B"]],
    [["A"], ["!B"], ["A", "!B"]],
    [["!A"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["!B"], ["A", "!B"]],
    [["B"], ["!B"], ["A", "!B"]],
    [["A"], ["B"], ["!B"], ["A", "!B"]],
    [["!A"], ["B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["!B"], ["A", "!B"]],
    [["A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["B"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"]],
    [["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"]],
    [["!A", "!B"]],
    [["A"], ["!A", "!B"]],
    [["!A"], ["!A", "!B"]],
    [["A"], ["!A"], ["!A", "!B"]],
    [["B"], ["!A", "!B"]],
    [["A"], ["B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "!B"]],
    [
      ["A", "B"],
      ["!A", "!B"],
    ],
    [["A"], ["A", "B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "!B"]],
    [
      ["!A", "B"],
      ["!A", "!B"],
    ],
    [["A"], ["!A", "B"], ["!A", "!B"]],
    [["!A"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["!A", "!B"]],
    [["B"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["!A", "!B"]],
    [
      ["A", "B"],
      ["!A", "B"],
      ["!A", "!B"],
    ],
    [["A"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!A", "!B"]],
    [["!B"], ["!A", "!B"]],
    [["A"], ["!B"], ["!A", "!B"]],
    [["!A"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!B"], ["!A", "!B"]],
    [["B"], ["!B"], ["!A", "!B"]],
    [["A"], ["B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!B"], ["!A", "!B"]],
    [["A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!B"], ["!A", "!B"]],
    [["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["!A", "!B"]],
    [
      ["A", "!B"],
      ["!A", "!B"],
    ],
    [["A"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "!B"], ["!A", "!B"]],
    [
      ["A", "B"],
      ["A", "!B"],
      ["!A", "!B"],
    ],
    [["A"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["A", "!B"], ["!A", "!B"]],
    [
      ["!A", "B"],
      ["A", "!B"],
      ["!A", "!B"],
    ],
    [["A"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [
      ["A", "B"],
      ["!A", "B"],
      ["A", "!B"],
      ["!A", "!B"],
    ],
    [["A"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!A", "B"], ["A", "!B"], ["!A", "!B"]],
    [["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["!A"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [["!A"], ["B"], ["A", "B"], ["!A", "B"], ["!B"], ["A", "!B"], ["!A", "!B"]],
    [
      ["A"],
      ["!A"],
      ["B"],
      ["A", "B"],
      ["!A", "B"],
      ["!B"],
      ["A", "!B"],
      ["!A", "!B"],
    ],
  ];

  expect(actualFormulas).toStrictEqual(expectedFormulas);
});
